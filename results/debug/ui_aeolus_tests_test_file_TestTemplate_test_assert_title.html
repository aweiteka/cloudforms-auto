<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta charset="utf-8" />
<title>CloudForms Cloud Engine : Login</title>
<link rel="shortcut icon" href="/conductor/images/favicon.png?1243891069" />
<link type="text/css" rel="stylesheet" media="screen" href="/conductor/stylesheets/reset.css?1340997012" />
<link type="text/css" rel="stylesheet" media="screen" href="/conductor/stylesheets/compiled/login.css?1340997019" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
<link href="/conductor/stylesheets/layout_ie.css" media="screen" rel="stylesheet" type="text/css" />
<![endif]-->
<script type="text/javascript" src="/conductor/javascripts/jquery-1.6.1.min.js?1340997012"></script>
<script type="text/javascript" src="/conductor/javascripts/jquery.showpassword.js?1340997012"></script>
<script type="text/javascript" src="/conductor/javascripts/rails.js?1340997012"></script>
<meta content="authenticity_token" name="csrf-param" />
<meta content="6mS5dRoLyJkOAsv9wAOblVymkgGdbA4ZjKXY90vPwNo=" name="csrf-token" />

</head>
<body id="auth">
<div id="stage"> </div>
<div id="primary-container">
<script>
  //&lt;![CDATA[
    /* todo: cleanup soon */
    $(document).ready(function() {
      $('#password-input').showPassword({'checkbox':'#reveal'});
      $('#username').focus(); // bring the username to focus
    
      $('#security-btn').click(function(){
        $('#login').hide();
        $('#security').animate({ 'left': 0, 'width': 502 },{queue:false,duration:150});
      });
    
      $('#show-login').click(function(){
        $('#security').animate({ 'left': -$('#security').outerWidth() + 143, 'width': 500 },{queue:false,duration:150});
        $('#login').show();
      });
    
      $('#new_user_session').submit(function() {
        $('#progress-indicator').show();
        var form_data = $(this).serialize(); /* serialize() is sensitive to disabled elements */
        $('#login input').each(function(){ $(this).attr('disabled', true); });
        $.ajax({
          url: this.action,
          type: 'POST',
          accepts: { html: "application/javascript" },
          dataType: 'html',
          data: form_data,
          success: function(data, textStatus, jqXHR) {
            if(jqXHR.status === 201) window.location = data;
            else window.location.reload();
          },
          error: function(response) {
            //TODO: for some reason error connection errors are not handled by 'error' callback,
            //what's worse jquery sets 'textStatus' to success, if we want to catch connection errors
            //we will have to check if status code == 0 in 'complete' callback
            $('#error-content').remove();
            $('#primary-container').prepend('&lt;div id="error-content" class="error" style="opacity: 0; position: relative;"&gt;&lt;/div&gt;');
            var text = response.responseText == '' ? response.statusText : response.responseText;
            if(response.status !== 401) text = "Internal Server Error";
            $('#error-content').html('&lt;p class="text"&gt;' + text  + '&lt;/p&gt;');
            $('#error-content').animate({ 'opacity': 1, 'top': -10 },{queue:false,duration:150});
            $('#progress-indicator').hide();
            $('#login input').each(function(){ $(this).removeAttr('disabled'); });
          },
        });
        return false;
      });
    })
  //]]&gt;
</script>
<div id="card-surround">
<div id="card">
<div id="security" class="panel">
<header class="secure">
<h1>Encrypted Connection</h1>
<span class="expiration">Expiration: Unknown</span>
</header>
<div class="content">
<p>
Certificate issued by:
<br />
Unknown Certificate Authority
</p>
<p>
Your connection to CloudForms Cloud Engine at 192.168.122.175 is currently secure and encrypted using SSL encryption (unknown strength).
</p>
<p>
<input type="button" value="Return to Login" id="show-login" class="button" />
</p>
</div>
<img src="/conductor/images/login-card-logo-cloudforms.png?1340997013" id="logo" alt="Login-card-logo-cloudforms" />
</div>

<div id="login" class="panel">
<div class="content">
<form method="post" id="new_user_session" action="/conductor/user_session" accept-charset="UTF-8"><div style="margin:0;padding:0;display:inline"><input type="hidden" value="✓" name="utf8" /><input type="hidden" value="6mS5dRoLyJkOAsv9wAOblVymkgGdbA4ZjKXY90vPwNo=" name="authenticity_token" /></div>
<fieldset class="primary">
<label for="login">Username:</label>
<input type="text" name="login" id="login" class="username" />
</fieldset>
<fieldset class="primary">
<label for="password">Password:</label>
<input type="password" name="password" id="password-input" class="password" /><input type="text" class="password" name="_password" tabindex="0" style="display: none;" />
</fieldset>
<fieldset class="reveal_pass">
<input type="checkbox" id="reveal" />
<label for="reveal">Show my password</label>
</fieldset>
<div class="group bottom left">
<div class="options">
<a id="security-btn" href="#" class="security">
<span>Security Info</span>
</a>
</div>
</div>
<div class="group bottom submit">
<img src="/conductor/images/login-spinner.gif?1340997012" id="progress-indicator" alt="Working..." />
<input type="submit" value="Login" name="commit" id="login-btn" class="button" />
</div>
</form>

</div>
</div>
</div>
</div>

</div>


</body><canvas id="fxdriver-screenshot-canvas" style="display: none;" width="979" height="932"></canvas></html>